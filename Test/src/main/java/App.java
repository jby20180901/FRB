import biz.source_code.dsp.filter.FilterPassType;
import biz.source_code.dsp.filter.IirFilterCoefficients;
import biz.source_code.dsp.filter.IirFilterDesignExstrom;
import biz.source_code.dsp.filter.IirFilter;
import org.ujmp.core.DenseMatrix;
import org.ujmp.core.Matrix;
import org.ujmp.core.calculation.Calculation;

import java.io.BufferedReader;
import java.io.FileReader;

public class App 
{
    public static void main( String[] args )
    {
//        Matrix SlowWalk1 = null,Error_Acc1 = null,Error_Mag1 = null;
//        try {
//            BufferedReader reader = new BufferedReader(new FileReader("D:\\Test\\src\\main\\java\\TEST.csv"));
//            String line = null;
//            int check = 0;
//            while((line=reader.readLine())!=null){
//                String item[] = line.split(",");
//                Double value[] = new Double[item.length];
//                for(int i = 0 ; i < item.length ; i ++) {
//                    value[i] = Double.parseDouble(item[i]);
//                }
//                if(check == 0) {
//                    SlowWalk1 = Matrix.Factory.importFromArray(value);
//                    check ++;
//                }
//                else {
//                    Matrix Temp = Matrix.Factory.importFromArray(value);
//                    SlowWalk1 = SlowWalk1.appendVertically(Calculation.Ret.NEW, Temp);
//                }
//            }
//            System.out.println(SlowWalk1);
//        } catch (Exception e) {
//            e.printStackTrace();
//        }
//        /*double SlowWalk[][] =
//                {{0.999999982485154,4.77093438110698e-05,-0.000180623274084135,-1.13465316508299e-05,0.00147374507894382,0.00332335636528288,0.163338345260239,0.530029296875000,-0.127441406250000,-0.733398437500000}
//                ,{0.999999981592633,4.31809100774616e-05,-0.000186768866534737,-8.21787665061802e-06,0.00162682010400969,0.00323003365584642,0.163615495031269,0.526367187500000,-0.126708984375000,-0.730224609375000}
//                ,{0.999999979126979,3.73143450272395e-05,-0.000200773770968776,-6.60101203009411e-06,0.00165636488983550,0.00323874849013280,0.163530180498225,0.526367187500000,-0.127197265625000,-0.733398437500000}
//                ,{0.999999976894899,3.93298729373104e-05,-0.000211318389179871,-2.81071668833954e-06,0.00172616295150625,0.00338531416375148,0.163334201903916,0.526855468750000,-0.126708984375000,-0.732177734375000}
//                ,{0.999999978522455,4.88532319626311e-05,-0.000201384690885653,-3.55788787739786e-06,0.00161032994659290,0.00348962631508980,0.163586839874071,0.526367187500000,-0.128906250000000,-0.731689453125000}
//                ,{0.999999965521219,2.50667323850318e-05,-0.000261300587433455,7.15705301138070e-06,0.00130260700992894,0.00345251529219128,0.162984234502958,0.527343750000000,-0.127929687500000,-0.734375000000000}
//                ,{0.999999951648033,4.14653769989226e-05,-0.000308132102395276,6.25788076510925e-06,0.00167201150736863,0.00348787084147132,0.163142641691478,0.527343750000000,-0.128906250000000,-0.731201171875000}
//                ,{0.999999942988977,1.97109765104897e-05,-0.000337023873308695,6.95907921119399e-06,0.00227707738395906,0.00277712444166478,0.164550067161832,0.525390625000000,-0.127685546875000,-0.731689453125000}
//                ,{0.999999980007833,2.83113804662449e-05,-0.000197945967795599,4.39085435677278e-07,0.00261711881106133,0.00356931658537766,0.164049268981441,0.524414062500000,-0.128662109375000,-0.734863281250000}
//                ,{0.999999980782514,3.21535086779956e-05,-0.000193391654749908,-8.90199004566217e-07,0.00209939569357423,0.00328926786598268,0.163576899425832,0.524414062500000,-0.126708984375000,-0.733398437500000}
//                ,{0.999999978942206,4.34002326637484e-05,-0.000200450978583844,-7.17029622498977e-06,0.00241188107398975,0.00304722793278720,0.163710853178882,0.523681640625000,-0.128662109375000,-0.733886718750000}
//                ,{0.999999979620836,3.07315691570054e-05,-0.000199315748706741,-9.33436308370173e-06,0.00199435332309855,0.00317641833989003,0.163169307983206,0.526367187500000,-0.125244140625000,-0.733886718750000}
//                ,{0.999999979898153,2.75420036996987e-05,-0.000198514702616337,6.08644252411694e-06,0.00252618264953072,0.00338960245386134,0.163652453732735,0.524169921875000,-0.128173828125000,-0.732666015625000}
//                ,{0.999999982628109,3.13720002266815e-05,-0.000183646024597639,5.80656557994108e-06,0.00209803023871485,0.00318990645764152,0.163804877515455,0.523681640625000,-0.128173828125000,-0.733154296875000}
//                ,{0.999999979797938,2.28322505657630e-05,-0.000199380856714781,1.14055661685208e-05,0.00223887531169598,0.00325232260448893,0.163261321233704,0.527343750000000,-0.128906250000000,-0.735351562500000}
//                ,{0.999999977274773,3.08143164919339e-05,-0.000210721516653578,-9.86786594864286e-06,0.00223920074543804,0.00337929780672255,0.163459526896257,0.525390625000000,-0.127197265625000,-0.734375000000000}
//                ,{0.999999975147292,9.81293030050123e-06,-0.000222729378038578,8.64055073795944e-07,0.00257534144092342,0.00329170026795261,0.163763945357601,0.525878906250000,-0.128173828125000,-0.735839843750000}
//                ,{0.999999983483630,1.87141146958392e-05,-0.000180773722523564,-1.83936855496780e-06,0.00288259216287794,0.00289339070508459,0.163633415874309,0.524414062500000,-0.127685546875000,-0.735351562500000}
//                ,{0.999999982183320,1.70592817812509e-05,-0.000187940383038043,4.55548724645483e-06,0.00212101683310202,0.00313407005513330,0.163282738449227,0.524414062500000,-0.127197265625000,-0.733154296875000}
//                ,{0.999999983089341,1.76330009949988e-05,-0.000182988096639913,5.07465049087719e-06,0.00277705513129060,0.00328098589135272,0.163537837938446,0.523925781250000,-0.127685546875000,-0.737304687500000}};
//        SlowWalk1 = Matrix.Factory.importFromArray(SlowWalk);*/
//        double E_Acc[][] =
//                {{0.997717573020111,-0.0171500140874643,0.0129774427318173,-0.00583139525405395},
//                {0.0184286021394807,0.993815700725132,0.00396370498224685,0.0102428276753278},
//                {-0.0141534265515279,-0.00220982292009206,0.994311820042831,-0.00120764449521452}};
//        Error_Acc1 = Matrix.Factory.importFromArray(E_Acc);
//        double E_Mag[][] =
//                {{1.03125255976784,0.00847212988925235,0.00579709909384105,0.136082250956095},
//                {0.00847212988925235,0.997646852145487,0.00850839145531486,0.326777140907264},
//                {0.00579709909384107,0.00850839145531487,1.01861351272278,0.0362231501437119}};
//        Error_Mag1 = Matrix.Factory.importFromArray(E_Mag);
//        run(SlowWalk1,Error_Acc1,Error_Mag1);
//        Matrix a;
//        double as[][] =
//                {{-7,-8,-9,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1,-1,-2,-3,-4,-3,-2,-1,1,2,1,-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1,-1,-2,-3,-4,-3,-2,-1,1,2,1,-1,-2,-3,-4,-5,-6},
//                {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92}};
//        a = Matrix.Factory.importFromArray(as);
//        Matrix a1,b1;
//        a1 = DenseMatrix.Factory.zeros( 2, 3);
//        b1 = DenseMatrix.Factory.zeros( 1, 3);
//        System.out.println(a1.appendVertically(Calculation.Ret.NEW,b1));
//        System.out.println(a);
//        FindMinZero f = new FindMinZero(a);
//        System.out.println(f.MinZero);
        Matrix SlowWalk1 = null,Error_Acc1 = null;
        double E_Acc[][] =
                {{0.997717573020111,-0.0171500140874643,0.0129774427318173,-0.00583139525405395},
                {0.0184286021394807,0.993815700725132,0.00396370498224685,0.0102428276753278},
                {-0.0141534265515279,-0.00220982292009206,0.994311820042831,-0.00120764449521452}};
        Error_Acc1 = Matrix.Factory.importFromArray(E_Acc);
        double SlowWalk[] =
                {0.999999958156011,1.18245041363372e-06,0.000282166358743546,6.37865506954532e-05,0.0531058045557430,-0.0148382041922353,0.154946195052316,-0.945312500000000,-0.513671875000000,-1.12255859375000};
        SlowWalk1 = Matrix.Factory.importFromArray(SlowWalk);
        Calculations calculation = new Calculations(Error_Acc1,SlowWalk1);
        System.out.println(calculation.SlowWalk1);
        System.out.println(calculation.Error_Acc1);
        System.out.println(calculation.Gyroscope);
        System.out.println(calculation.Accelerometer);
        System.out.println(calculation.gama);
        System.out.println(calculation.seita);
        System.out.println(calculation.fai);
        System.out.println(calculation.q);
        System.out.println(calculation.AHRS);
        System.out.println(calculation.Acc_E);
        System.out.println(calculation.Angle_V_E);
        System.out.println(calculation.t);
        double SlowWalks[] ={0.999999938965111,-1.50404052030438e-05,0.000338435524395986,8.54690426947595e-05,0.0526662876754869,-0.0148444566016837,0.154563525276275,-0.942382812500000,-0.514648437500000,-1.12353515625000};
        SlowWalk1 = Matrix.Factory.importFromArray(SlowWalks);
        calculation.updateSlowWalk(SlowWalk1);
        System.out.println(calculation.SlowWalk1);
        System.out.println(calculation.Error_Acc1);
        System.out.println(calculation.Gyroscope);
        System.out.println(calculation.Accelerometer);
        System.out.println(calculation.gama);
        System.out.println(calculation.seita);
        System.out.println(calculation.fai);
        System.out.println(calculation.q);
        System.out.println(calculation.AHRS);
        System.out.println(calculation.Acc_E);
        System.out.println(calculation.Angle_V_E);
        System.out.println(calculation.t);
    }
}
